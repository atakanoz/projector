#!/bin/bash




# Check current folder if it's a project folder
if [[ -z $1 ]] && [[ -d "${BASEDIR}/wp/wp-content" ]] && [[ -f "${BASEDIR}/database/dump/wordpress_data.sql" ]]; then


	# Extract the project name from BASEDIR
	SLUG="${BASEDIR%"${BASEDIR##*[!/]}"}"
	SLUG="${SLUG##*/}" 
	PROJECTDIR=$BASEDIR


else # If current directory is in 'Projects' folder


	# Get project name from args
	if [[ ! -z $1 ]]; then

		SLUG=$1

	else


		# Ask for the project name
		read -ep "Project name (site-name): " SLUG
		while [[ -z $SLUG ]]; do
			read -ep "Project name (site-name): " SLUG
		done


	fi


	# Project directory
	PROJECTDIR="${BASEDIR}/${SLUG}"


	# Check if the folder not exists
	if [[ ! -d $PROJECTDIR ]]; then

		echo -e "${RED}Project folder doesn't exist.${RESET}"
		exit

	fi


fi




# Check if already installed
# if [[  ]]; then



# fi


# (
# 	cd $PROJECTDIR
# 	docker-compose -f "$BUILDERDIR/docker-compose.yml" up -d
# )



echo -e "Installing '${SLUG}' project ... ${GREEN}done${RESET}"
